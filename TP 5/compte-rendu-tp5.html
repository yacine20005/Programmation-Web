<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <title>Compte-rendu de TP5</title>
    <link rel="stylesheet" type="text/css" href="compte-rendu-tp.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"
      rel="stylesheet"
    >
  </head>
  <body>
    <h1 class="centered">Compte-rendu de TP5</h1>
    <div class="right">
      <p>Yacine HAMADOUCHE<br></p>
    </div>
    <h2>Exercice 1 : Tableaux</h2>
    <ol>
      <li>
        <h3>
          Recopiez la page Web exo1.html dans votre répertoire tp5. <br>
          Expliquez ce que fait le code sans pour autant regarder le code de graph.js. <br>
          Note : pour tester, vous devez récupérer aussi le fichier graph.js et le placer correctement par rapport au fichier exo1.html que vous venez de récupérer (Une piste pour le trouver : regarder la source…)
        </h3>
        Le code affiche plusieurs textes dans des box sur la page web, et un graphique est affiché sous le texte <i>Simple Array</i>.
      </li>
      <li>
        <h3>
          La suite de cet exercice consiste à compléter chaque question en écrivant un code à l'endroit des 'TODO'. <br>
          On cherche à écrire une fonction addThree qui prend en paramètre un tableau et retourne un nouveau tableau qui contient le même nombre de cases que le tableau pris en paramètre et dont la valeur de chaque case est la valeur de la case de même index du tableau pris en paramètre augmentée de trois. <br>
          Par exemple, si le tableau initial contient [11, 21, 5, -13, 2, 12, 19, 5], alors le résultat de l'appel à addThree doit être un nouveau tableau avec les valeurs [14, 24, 8, -10, 5, 15, 22, 8]. <br>
          Si cela vous aide, vous pouvez dans un premier temps écrire l'algorithme en pseudo-code, puis dans un deuxième temps, transformez le pseudo-code en JavaScript. <br>
          <b>Attention !</b> Votre fonction ne doit pas modifier le tableau d'origine.
        </h3>
        C'est fait !
      </li>
      <li>
        <h3>
          En fait, le code que l'on a écrit n'est pas très générique : si l'on doit ajouter 4 à chaque case ou alors multiplier la valeur des cases par 2, il faut dupliquer le code avec un copier/coller et changer l'opération à effectuer. <br>
          Comme on n'est pas des barbares, on se dit que l'on pourrait réutiliser la même fonction pour tous ces cas. On va pour cela créer une fonction intermédiaire. <br>
          Donc dans un premier temps, écrivez une fonction applyForEachElement qui prend deux arguments (un tableau et une fonction) et qui, pour chaque élément du tableau, appelle la fonction en lui donnant l'élement en guise de paramètre. <br>
          Une fois que applyForEachElement marche, écrivez une nouvelle version de addThree, addThree2 qui va utiliser applyForEachElement, vérifiez que le résultat est identique. 
        </h3>
        C'est fait !
      </li>
      <li>
        <h3>
          Il y a toutes les chances que votre fonction applyForEachElement contienne une boucle for. Cependant, on peut éviter d'écrire cette boucle explicitement, en utilisant la méthode forEach sur un tableau : écrire la fonction applyForEachElement2 pour utiliser la méthode forEach, puis l'utiliser pour écrire une nouvelle version de addThree, nommée addThree3.
        </h3>
        C'est fait !
      </li>
      <li>
        <h3>
          Que fait la méthode map si on l'appelle sur un tableau ? <br>
          Comment peut-on l'utiliser pour écrire addThree ? <br>
          Écrivez addThree en utilisant la méthode map et vérifiez que l'on obtient le même résultat que précédemment.
        </h3>
        <code>.map()</code> crée un tableau avec les résultats de l'appel d'une fonction appliqué sur chaque élément du tableau. <br>
        On peut utiliser <code>.map()</code> pour addThree en appliquant à chaque élément du tableau une fonction ajoutant 3. <br>
      </li>
      <li>
        <h3>
          On souhaite afficher les valeurs du tableau trié en utilisant la méthode sort sur un tableau. <br>
          Rappelez en quoi la méthode sort est différente des méthodes map et filter. <br>
          Écrivez la fonction sortedArray qui renvoie un nouveau tableau avec les valeurs triées (Attention ! Le tableau pris en paramètre ne doit pas être modifié). <br>
        </h3>
        La méthode <code>.sort()</code> trie les éléments d'un tableau dans l'ordre croissant sans créer de nouveaux tableaux, tandis que <code>.map()</code> et <code>.filter()</code> créent un nouveau tableau. <br>
        C'est fait !
      </li>
      <li>
        <h3>
          On veut afficher les valeurs du tableau seulement si celles-ci sont positives ou nulles. <br>
          Sachant que l'on peut utiliser la méthode filter sur un tableau, écrivez la fonction positiveArray qui renvoie un tableau ne contenant que les valeurs positives ou nulles du tableau pris en paramètre.
        </h3>
        C'est fait !
      </li>
    </ol>
    <h2>
      Exercice 2 : MinMax
    </h2>
    <ol>
      <li>
        <h3>
          On cherche à écrire une fonction minmax qui prend en paramètre un tableau, calcule le minimum et le maximum de ce tableau et renvoie les deux valeurs sous forme d'un nouveau tableau à 2 cases dont la première case est le minimum et la seconde case est le maximum. <br>
          Pour des questions d'efficacité, on veut que le calcul du minimum et du maximum soit fait lors du même parcours du tableau. <br>
          Écrivez, dans un premier temps, l'algorithme que vous allez implanter en pseudo-code, puis écrivez le code JavaScript correspondant. <br>
          Note : il existe les fonctions Math.min et Math.max.
        </h3>
        C'est fait !
      </li>
      <li>
        <h3>
          Au lieu d'écrire la boucle à la main, on peut vouloir directement utiliser l'opérateur spread (…) pour calculer le minimum et le maximum du tableau. <br>
          Écrivez le code de minmax2 qui utilise cet opérateur. Si l'on utilise cette fonction, combien de fois aura-t-on parcouru le tableau ? Cela satisfait-il les contraintes posées en début d'exercice ? <br>
        </h3>
        Si on utilise l'opérateur spread, on parcourt le tableau 2 fois, une fois pour min et une fois pour max. <br> 
        Cela ne satisfait donc pas les contraintes posées par l'exercice.
      </li>
      <li>
        <h3>
          Une autre manière de procéder consiste à utiliser la méthode reduce sur un tableau qui permet d'effectuer un même calcul sur chaque valeur. <br>
          Note : comme ici, on s'intéresse au maximum et au minimum en même temps, la valeur propagée devra contenir ces deux valeurs. <br>
          Quelle doit être la valeur passée en second paramètre à reduce ? <br>
          Quelle doit être la valeur propagée pour chaque case dans le cas où le tableau est [8, 2, 4, 0, 3, 9, 1, 5, 7, 6] ? <br>
          Écrivez le code de minmax3 qui appelle la méthode reduce. <br>
          Note 2 : vous pouvez vérifier que les valeurs intermédiaires de la valeur propagée sont bonnes avec console.log.
        </h3>
        Les valeurs passées en paramètres à <code>.reduce()</code> doit être un tableau contenant le minimum et le maximum du tableau pour l'instant ainsi que la variable qui va contenir la valeur courante. <br>
        C'est fait !
      </li>
      <li>
        <h3>
          En fait, retourner un tableau avec 2 cases stockant le minimum et le maximum, n'est pas terrible comme convention, il faut mieux renvoyer un dictionnaire avec les clefs min et max. <br>
          Donnez la syntaxe Javascript qui permet de créer un dictionnaire avec 3 comme valeur de min et 7 comme valeur de max. <br>
          Enfin, écrivez la fonction minmax4 utilisant des dictionnaires comme valeur propagée à la place d'un tableau à 2 cases. <br>
          Note : Si vous n'avez pas vu les dictionnaires en cours, vous êtes invités à lire le cours correspondant, mais vous pouvez aussi sauter cette question sans vous sentir trop coupables. <br>
        </h3>
        <pre>
          let obj = {
            min: 3,
            max: 7
          }
        </pre>
        C'est fait !
      </li>
    </ol>
    <h2>
      Exercice 3 : Génération aléatoire et calcul rapide
    </h2>
    <ol>
      <li>
        <h3>
          On souhaite pouvoir mélanger les cases d'un tableau dans le but de tester plus de combinaisons. <br>
          L'idée de l'algorithme de mélange est la suivante : pour chaque case i, on tire un nombre aléatoire entre i et n - 1 (n étant le nombre de cases du tableau) et l'on va permuter (échanger si vous préférez) la case courante avec la case à l'index du nombre que l'on vient de tirer aléatoirement. <br>
          Si l'on fait cela pour toutes les cases, le tableau sera mélangé (et on peut même s'offrir la joie de démontrer que ce tableau est bien échantillonné uniformément au hasard parmi tous les tableaux possibles). <br>
          Écrivez dans un premier temps une fonction swap qui permet d'échanger deux cases du tableau. <br>
          Puis écrivez la fonction randomArray qui mélange les valeurs du tableau pris en paramètre. <br>
          Note : tirer un nombre aléatoire entre 0 (inclus) et n (exclu) en JavaScript se fait avec la fonction suivante : <br>
          <code>
            const random = n => Math.floor(n * Math.random());
          </code>
        </h3>
        C'est fait !
      </li>
      <li>
        <h3>
          Il est possible de diminuer le nombre de tests fait par la fonction minmax. En effet, si au lieu de faire évoluer le min et le max pour chaque case du tableau, on commence par lire deux valeurs de cases consécutives, regarder quelle est la plus grande puis la comparer avec le max, dans ce cas, la valeur la plus petite ne doit être comparée qu'avec le min donc chaque case n'a pas besoin d'être comparée et avec le max et avec le min. <br>
          Écrivez dans un premier temps l'algorithme en pseudo-code. <br>
          Note : pour éviter de dupliquer le code, on peut écrire le code si une valeur est plus grande que l'autre et dans l'autre cas, permuter les valeurs (attention, les valeurs, pas les cases du tableau) pour se retrouver dans le même cas. <br>
          Vérifiez que votre algo fonctionne que le nombre de cases soit pair ou impair. <br>
          Enfin, écrivez la fonction minmax5. <br>
        </h3>
        C'est fait !
      </li>
    </ol>
  </body>
</html>
